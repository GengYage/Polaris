<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Ephemera</title>
    <!-- <link rel="stylesheet" href="//at.alicdn.com/t/font_1967122_c5qpct7q4mf.css"> -->
    <link rel="stylesheet" href="css/font.css"/>
    <link rel="stylesheet" href="css/page-header.css"/>
    <link rel="stylesheet" href="css/page-cotent.css"/>
    <link rel="stylesheet" href="css/body.css"/>
    <link rel="stylesheet" href="css/responsive.css"/>
    <link rel="stylesheet" href="css/aside.css"/>

    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/vditor/dist/index.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/vditor/dist/index.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
</head>

<body>
<nav style="background-image: url(images/aboutbg.png); height: 20vh">
    <!-- 导航栏 -->
    <div id="page-header">
        <span class="logo"><a href="#">SEULG</a></span>

        <div class="toggle-menu">
          <span class="menus_item">
            <a href="#"><i class="iconfont icon-search"></i></a>
          </span>
            <input type="checkbox" id="toggle"/>
            <label for="toggle">
                <div class="hanbao">
                    <div class="menu-icon-first"></div>
                    <div class="menu-icon-second"></div>
                    <div class="menu-icon-third"></div>
                </div>
            </label>
            <div class="main-menu">
            <span class="menus_item">
              <a href="#"><i class="iconfont icon-search"></i>搜索</a>
              <a href="#"><i class="iconfont icon-biaoqian"></i>标签</a>
              <a href="#"><i class="iconfont icon-fenlei"></i>分类</a>
              <a href="#"><i class="iconfont icon-htmal5icon06"></i>主页</a>
              <a href="#"><i class="iconfont icon-youlian"></i>友链</a>
              <a href="#"><i class="iconfont icon-liuyan"></i>留言</a>
              <a href="register.html"
              ><i class="iconfont icon-guanyuwomen"></i>登陆</a
              >
            </span>
            </div>
        </div>
    </div>
</nav>

<div class="content-outer">
    <div class="content-inner">
        <div class="recent-post" style="width: 100%; margin: 20px">
            <div id="vditor" class="vditor"></div>
        </div>
        <div class="aside_content">
            <div class="card-widget card-announcement">
                <div class="card-content">
                    <div class="card-anno-conten">
                        <form action="#" method="post">
                            <label for="atricleTitle">
                                文章标题
                                <input type="text" id="atricleTitle" name="articleTitle"/>
                            </label>
                        </form>
                        <button
                                onclick="getV()"
                                value="获取内容"
                                style="width: 100px; height: 50px"
                        ></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- vditor编辑器 -->
<script>
    const vditor = new Vditor('vditor', {
        minHeight: 800,
        width: '100%',
        theme: 'classic',
        cache: {
            enable: false,
        },
        preview: {
            theme: {
                current: 'light',
            },
        },
        icon: 'material',
        upload: {
            accept: "image/*",
            url: '/article/fileupload',
            filename(name) {
                return name.replace(/[^(a-zA-Z0-9\u4e00-\u9fa5\.)]/g);
            },
            linkToImgCallback() {
                console.log("api处理");
            },
            success(editor, msg) {
                console.log(msg);
                console.log(JSON.parse(msg));
            },
            error(msg) {
                console.log(msg + "上传失败了");
            }
        },
    });

    getV = function () {
        alert(vditor.getValue() + '\n' + vditor.getHTML());
        console.log(vditor.html2md(vditor.getHTML()));
    };
</script>
</body>
</html>
